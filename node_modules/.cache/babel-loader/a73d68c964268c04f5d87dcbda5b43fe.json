{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\mustafa\\\\Desktop\\\\projects\\\\Youtube\\\\clone2\\\\react-youtube-clone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\mustafa\\\\Desktop\\\\projects\\\\Youtube\\\\clone2\\\\react-youtube-clone\\\\client\\\\src\\\\components\\\\views\\\\LandingPage\\\\LandingPage.js\";\nimport React, { useEffect, useState } from 'react';\nimport { FaCode } from \"react-icons/fa\";\nimport { Card, Avatar, Col, Typography, Row } from 'antd';\nimport { useDispatch } from \"react-redux\";\nimport { loginUser } from \"../../../_actions/user_actions\";\nimport { USER_SERVER } from '../../../components/Config.js';\nimport axios from 'axios';\nimport moment from 'moment';\nconst Title = Typography.Title;\nconst Meta = Card.Meta;\n\nfunction LandingPage(props) {\n  const dispatch = useDispatch();\n\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        Videos = _useState2[0],\n        setVideos = _useState2[1];\n\n  useEffect(() => {\n    axios.get(\"\".concat(USER_SERVER, \"/auth\")).then(response => {\n      if (response.data.isAuth === true) {\n        console.log(\"Logged in: true\");\n        axios.get('/api/video/getVideos').then(response => {\n          if (response.data.success) {\n            console.log(response.data.videos);\n            setVideos(response.data.videos);\n          } else {\n            alert('Failed to get Videos');\n          }\n        });\n      } else {\n        console.log(\"Logged in: false\");\n        axios.get('/api/video/getAllVideos').then(response => {\n          if (response.data.success) {\n            console.log(response.data.videos);\n            setVideos(response.data.videos);\n          } else {\n            alert('Failed to get Videos');\n          }\n        });\n      }\n    });\n  }, []);\n  const renderCards = Videos.map((video, index) => {\n    var minutes = Math.floor(video.duration / 60);\n    var seconds = Math.floor(video.duration - minutes * 60);\n    return React.createElement(Col, {\n      lg: 6,\n      md: 8,\n      xs: 24,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        position: 'relative'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"/video/\".concat(video._id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      style: {\n        width: '100%'\n      },\n      alt: \"thumbnail\",\n      src: \"http://localhost:5000/\".concat(video.thumbnail),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \" duration\",\n      style: {\n        bottom: 0,\n        right: 0,\n        position: 'absolute',\n        margin: '4px',\n        color: '#fff',\n        backgroundColor: 'rgba(17, 17, 17, 0.8)',\n        opacity: 0.8,\n        padding: '2px 4px',\n        borderRadius: '2px',\n        letterSpacing: '0.5px',\n        fontSize: '12px',\n        fontWeight: '500',\n        lineHeight: '12px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, minutes, \" : \", seconds)))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }), React.createElement(Meta, {\n      avatar: React.createElement(Avatar, {\n        src: video.writer.image,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }),\n      title: video.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, video.writer.name, \" \"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      style: {\n        marginLeft: '3rem'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \" \", video.views), \"- \", React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \" \", moment(video.createdAt).format(\"MMM Do YY\"), \" \"));\n  });\n  return React.createElement(\"div\", {\n    style: {\n      width: '85%',\n      margin: '3rem auto'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, React.createElement(Title, {\n    level: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, \" Recommended \"), React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }), React.createElement(Row, {\n    gutter: 16,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, renderCards));\n}\n\nexport default LandingPage;","map":{"version":3,"sources":["C:\\Users\\mustafa\\Desktop\\projects\\Youtube\\clone2\\react-youtube-clone\\client\\src\\components\\views\\LandingPage\\LandingPage.js"],"names":["React","useEffect","useState","FaCode","Card","Avatar","Col","Typography","Row","useDispatch","loginUser","USER_SERVER","axios","moment","Title","Meta","LandingPage","props","dispatch","Videos","setVideos","get","then","response","data","isAuth","console","log","success","videos","alert","renderCards","map","video","index","minutes","Math","floor","duration","seconds","position","_id","width","thumbnail","bottom","right","margin","color","backgroundColor","opacity","padding","borderRadius","letterSpacing","fontSize","fontWeight","lineHeight","writer","image","title","name","marginLeft","views","createdAt","format"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { FaCode } from \"react-icons/fa\";\r\nimport { Card, Avatar, Col, Typography, Row } from 'antd';\r\nimport { useDispatch } from \"react-redux\";\r\nimport { loginUser } from \"../../../_actions/user_actions\";\r\nimport { USER_SERVER } from '../../../components/Config.js';\r\n\r\nimport axios from 'axios';\r\nimport moment from 'moment';\r\nconst { Title } = Typography;\r\nconst { Meta } = Card;\r\n\r\nfunction LandingPage(props) {\r\n    const dispatch = useDispatch();\r\n    const [Videos, setVideos] = useState([])\r\n\r\n    useEffect(() => {\r\n\r\n        axios.get(`${USER_SERVER}/auth`)\r\n        .then(response => {\r\n            if(response.data.isAuth===true){\r\n         console.log(\"Logged in: true\");\r\n\r\n         axios.get('/api/video/getVideos')\r\n         .then(response => {\r\n             if (response.data.success) {\r\n                 console.log(response.data.videos)\r\n                 setVideos(response.data.videos)\r\n             } else {\r\n                 alert('Failed to get Videos')\r\n             }\r\n         })\r\n\r\n\r\n            }\r\n\r\n            else {\r\n\r\n                console.log(\"Logged in: false\");\r\n\r\n                axios.get('/api/video/getAllVideos')\r\n                .then(response => {\r\n                    if (response.data.success) {\r\n                        console.log(response.data.videos)\r\n                        setVideos(response.data.videos)\r\n                    } else {\r\n                        alert('Failed to get Videos')\r\n                    }\r\n                })\r\n\r\n            }\r\n\r\n        })\r\n       \r\n\r\n    }, [])\r\n\r\n    const renderCards = Videos.map((video, index) => {\r\n\r\n        var minutes = Math.floor(video.duration / 60);\r\n        var seconds = Math.floor(video.duration - minutes * 60);\r\n\r\n        return <Col lg={6} md={8} xs={24}>\r\n            <div style={{ position: 'relative' }}>\r\n                <a href={`/video/${video._id}`} >\r\n                <img style={{ width: '100%' }} alt=\"thumbnail\" src={`http://localhost:5000/${video.thumbnail}`} />\r\n                <div className=\" duration\"\r\n                    style={{ bottom: 0, right:0, position: 'absolute', margin: '4px', \r\n                    color: '#fff', backgroundColor: 'rgba(17, 17, 17, 0.8)', opacity: 0.8, \r\n                    padding: '2px 4px', borderRadius:'2px', letterSpacing:'0.5px', fontSize:'12px',\r\n                    fontWeight:'500', lineHeight:'12px' }}>\r\n                    <span>{minutes} : {seconds}</span>\r\n                </div>\r\n                </a>\r\n            </div><br />\r\n            <Meta\r\n                avatar={\r\n                    <Avatar src={video.writer.image} />\r\n                }\r\n                title={video.title}\r\n            />\r\n            <span>{video.writer.name} </span><br />\r\n            <span style={{ marginLeft: '3rem' }}> {video.views}</span>\r\n            - <span> {moment(video.createdAt).format(\"MMM Do YY\")} </span>\r\n        </Col>\r\n\r\n    })\r\n\r\n\r\n\r\n    return (\r\n        <div style={{ width: '85%', margin: '3rem auto' }}>\r\n            <Title level={2} > Recommended </Title>\r\n            <hr />\r\n\r\n            <Row gutter={16}>\r\n                {renderCards}\r\n            </Row>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LandingPage\r\n"]},"metadata":{},"sourceType":"module"}